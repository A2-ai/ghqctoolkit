name: "POST /api/milestones - create milestone with description"
description: "Successfully create a new milestone with name and description"

fixtures:
  milestones: []  # Start with no existing milestones

git_state:
  commit: "abc123"
  branch: "main"

request:
  method: POST
  path: "/api/milestones"
  body:
    name: "v2.0"
    description: "Second release milestone"

response:
  status: 201
  body:
    match_type: schema
    schema:
      type: object
      item_fields:
        - number
        - title
        - state
        - description
        - open_issues
        - closed_issues
      first_item:
        number: 1
        title: "v2.0"
        state: "open"
        description: "Second release milestone"
        open_issues: 0
        closed_issues: 0

assert_write_calls:
  - type: CreateMilestone
    name: "v2.0"
    description: "Second release milestone"
